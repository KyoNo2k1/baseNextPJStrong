import React from 'react';
import { createCache, extractStyle as extStyle, StyleProvider } from '@ant-design/cssinjs';
import * as antd from 'antd';
import { renderToString } from 'react-dom/server';
var blackList = ['ConfigProvider', 'Drawer', 'Grid', 'Modal', 'Popconfirm', 'Popover', 'Tooltip', 'Tour'];
var styleTagReg = /<style[^>]*>([\s\S]*?)<\/style>/g;
var defaultNode = function defaultNode() {
  return /*#__PURE__*/React.createElement(React.Fragment, null, Object.keys(antd).filter(function (name) {
    return !blackList.includes(name) && name[0] === name[0].toUpperCase();
  }).map(function (compName) {
    var Comp = antd[compName];
    if (compName === 'Dropdown') {
      return /*#__PURE__*/React.createElement(Comp, {
        key: compName,
        menu: {
          items: []
        }
      }, /*#__PURE__*/React.createElement("div", null));
    }
    return /*#__PURE__*/React.createElement(Comp, {
      key: compName
    });
  }));
};
export function extractStyle(customTheme) {
  var cache = createCache();
  renderToString( /*#__PURE__*/React.createElement(StyleProvider, {
    cache: cache
  }, customTheme ? customTheme(defaultNode()) : defaultNode()));

  // Grab style from cache
  var styleText = extStyle(cache);
  return styleText.replace(styleTagReg, '$1');
}